<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Audiowide">
	<style type="text/css">
		body  {
    		background-image: url("images/background_horde.jpg");
    		background-repeat:no-repeat;
    		background-size:100% 100vh;
			font-family: 'Audiowide', serif;
			font-size: 13px;
			color: #D7D9D9;
			overflow: hidden;
		}


		#divContainer {
			font-family: 'Audiowide', serif;
			font-size: 13px;
			color: #D7D9D9;
		    width: 100%;
    		height: 80%;
		    overflow-y: auto;
			overflow-x: hidden;
		}

	
	</style>	
	
	<script src="https://code.jquery.com/jquery-3.3.1.js"></script>

</head>
<body>


<script type="text/javascript">

startApiCallGuild()

function startApiCallGuild() {
	var xhttp = new XMLHttpRequest();
	xhttp.onreadystatechange = function() {
		if (this.readyState == 4 && this.status == 200) {
		   // Typical action to be performed when the document is ready:
		   var rawJson = this.responseText
		   var jsonGuild = JSON.parse(rawJson)
		   startApiCallClasses(jsonGuild)
		}
	};
	xhttp.open("GET", "https://eu.api.battle.net/wow/guild/dentarg/AeoN?fields=members&locale=en_GB&apikey=vra69wc2sq5c6kfmqachabmyugxgsh56", true);
	xhttp.send();
}

function startApiCallClasses(guildJson) {
	var jsonGuild = guildJson
	var xhttp = new XMLHttpRequest();
	xhttp.onreadystatechange = function() {
		if (this.readyState == 4 && this.status == 200) {
		   // Typical action to be performed when the document is ready:
		   var rawJson = this.responseText
		   var jsonClasses = JSON.parse(rawJson)
		   workit(jsonClasses, jsonGuild)
		}
	};
	xhttp.open("GET", "https://eu.api.battle.net/wow/data/character/classes?locale=en_GB&apikey=vra69wc2sq5c6kfmqachabmyugxgsh56", true);
	xhttp.send();
}

function workit(jsonClasses, jsonGuild) {
	var jsonClasses = jsonClasses
	var json = jsonGuild
	var frame = "images/frame.png"
	var maxWidth = window.innerWidth;
	var maxHeight = window.innerHeight;
	var maxPortraitsPerLine = Math.floor(maxWidth / 240)

	var membersLength = json.members.length;
	

	var baseLeftImg = 54;
	var baseTopImg = 29;
	var baseLeftFrame = 30;
	var baseTopFrame = -13;
	
	var imgWidthAndHeight = 78;
	var frameWidthAndHeight = 160;
	
	var offsetX = 70;
	var offsetY = 20;
	
	var line = 1;
	var resultingInnerHtml;

	var titleAeon = document.createElement('div');
	titleAeon.setAttribute("id", "titleAeon");
	titleAeon.innerHTML = "<h1 style=\"font-size:500%;left:45%;position:absolute\">AeoN";
	document.body.appendChild(titleAeon);
	
	var ideals = "<div id=\"ideals\" style=\"left:5%;\"><h2><ul><li>We are a guild made up of 25-45 year olds with wives/gf’s/kids/work.<br>Some of us have been playing for 11 years.<br>Therefore we do not commit to anything.</li><li>We do however try to get together for mythic dungeons or whatever but there are no guarantees.</li><li>It is important for us that you understand this, so there are no surprises later.</li><li>It is also important to understand that for us time is limited.<br>Therefore, when joining up with guildies having fun is important but it is also important to not waste each other’s time.</li><li>This means that on fights you have to try your best.<br>Making mistakes is human and acceptable as long as you don’t stand in the fire intentionally because you are a dps whore.</li><li>This guild will never be a progression guild.<br>Any attempt to push the guild into such direction that would change our casual view will not be accepted.</li></ul><p>You can contact Spiritbull on Tarren Mill/Dentarg or real ID:&nbsp;Chronos #2824</p><p>Cheers</p></h2></div>"
	
	
	var arrayRank0 = []
	var arrayRank1 = []
	var arrayRank2 = []
	var arrayRank3 = []
	var arrayRank4 = []
	var arrayRank5 = []
	var arrayRank6 = []
	var arrayRank7 = []
	
	for (var i = 0; i < membersLength; i++) {
		if (json.members[i].rank == 0) {
			arrayRank0.push(json.members[i].character.name)
		} else if (json.members[i].rank == 1) {
			arrayRank1.push(json.members[i].character.name)
		} else if (json.members[i].rank == 2) {
			arrayRank2.push(json.members[i].character.name)
		} else if (json.members[i].rank == 3) {
			arrayRank3.push(json.members[i].character.name)
		} else if (json.members[i].rank == 4) {
			arrayRank4.push(json.members[i].character.name)
		} else if (json.members[i].rank == 5) {
			arrayRank5.push(json.members[i].character.name)
		} else if (json.members[i].rank == 6) {
			arrayRank6.push(json.members[i].character.name)
		} else if (json.members[i].rank == 7) {
			arrayRank7.push(json.members[i].character.name)
		}
	}
	


	var divContainer = document.createElement('div');
	divContainer.setAttribute("id", "divContainer");
	
	divContainer.innerHTML = ideals;
	document.body.appendChild(divContainer)
	repositionElement("divContainer", "30px", "150px");
	divContainer.style.display = "inline-block"
	
	
	var topImg = -46;
	var leftImg = 33;
	var topCharName = -40;
	var leftCharName = 20;
	var topClass = -60;
	var leftClass = 20;
	var topLvl = -165;
	var leftLvl = 90;
	var frameLeft = -70;
	
	
	var currentItemTracker = 0
	var lines = Math.ceil(membersLength / maxPortraitsPerLine)
			
	var k = 0
	var resultingInnerHtmlRank0;
	for (var j = 0;j < arrayRank0.length; j++) {
		for (var i = 0; i < membersLength; i++) {
			if (arrayRank0[j] == json.members[i].character.name) {
				var thumbnail = json.members[i].character.thumbnail
				var thumbnail = "http://render-eu.worldofwarcraft.com/character/" + returnCharacterImgID(thumbnail) + "-avatar.jpg"
				var charName  = json.members[i].character.name
				var lvl = json.members[i].character.level
				var wowclassNumber = json.members[i].character.class
				var wowclass = returnWowClass(jsonClasses, wowclassNumber);
				var currentRank = returnRank(json.members[i].rank);
				
				if (j == 0) {
					resultingInnerHtmlRank0 = '<div id="divRank0"><img style="position:relative;top:' + topImg + 'px;left:' + leftImg + 'px" id="img' + k + '" src=' + thumbnail + ' width="'+ imgWidthAndHeight +'" height="'+ imgWidthAndHeight +'"></img><img style="position:relative;left:' + frameLeft + 'px" id="frame' + k + '" src=' + frame + ' width="'+ frameWidthAndHeight +'" height="'+ frameWidthAndHeight +'"></img><h2 style="position:relative;top:' + topCharName + 'px;left:' + leftCharName + 'px" id="txt'+ k +'">'+ charName +'</h2><h3 style="color:#a6a6a6;position:relative;top:' + topClass + 'px;left:' + leftClass + 'px" id="class'+ k +'">'+ wowclass +'</h3><h4 style="position:relative;top:' + topLvl + 'px;left:' + leftLvl + 'px" id="lvl'+ k +'">'+ lvl +'</h4>'
				} else {
					resultingInnerHtmlRank0 += '<img style="position:relative;top:' + topImg + 'px;left:' + leftImg + 'px" id="img' + k + '" src=' + thumbnail + ' width="'+ imgWidthAndHeight +'" height="'+ imgWidthAndHeight +'"></img><img style="position:relative;left:' + frameLeft + 'px" id="frame' + k + '" src=' + frame + ' width="'+ frameWidthAndHeight +'" height="'+ frameWidthAndHeight +'"></img><h2 style="position:relative;top:' + topCharName + 'px;left:' + leftCharName + 'px" id="txt'+ k +'">'+ charName +'</h2><h3 style="color:#a6a6a6;position:relative;top:' + topClass + 'px;left:' + leftClass + 'px" id="class'+ k +'">'+ wowclass +'</h3><h4 style="position:relative;top:' + topLvl + 'px;left:' + leftLvl + 'px" id="lvl'+ k +'">'+ lvl +'</h4>'
				}
				if (j == arrayRank0.length - 1) {
					resultingInnerHtmlRank0 += '<h2 style="position:relative;top:' + topCharName + 'px;left:' + leftCharName + 'px" id="txt'+ k +'">'+ currentRank +'<hr width="30%" align="left"></h2></div>'
				}
			}
			
		}		
		k++
	}
	
	var resultingInnerHtmlRank1;
	for (var j = 0;j < arrayRank1.length; j++) {
		for (var i = 0; i < membersLength; i++) {
			if (arrayRank1[j] == json.members[i].character.name) {
				var thumbnail = json.members[i].character.thumbnail
				var thumbnail = "http://render-eu.worldofwarcraft.com/character/" + returnCharacterImgID(thumbnail) + "-avatar.jpg"
				var charName  = json.members[i].character.name
				var lvl = json.members[i].character.level
				var wowclassNumber = json.members[i].character.class
				var wowclass = returnWowClass(jsonClasses, wowclassNumber);
				var currentRank = returnRank(json.members[i].rank);
				if (j == 0) {
					resultingInnerHtmlRank1 = '<div id="divRank1"><div style="display: inline-block;"><img style="display: inline-block;position:relative;top:' + topImg + 'px;left:' + leftImg + 'px" id="img' + k + '" src=' + thumbnail + ' width="'+ imgWidthAndHeight +'" height="'+ imgWidthAndHeight +'"></img><img style="position:relative;left:' + frameLeft + 'px" id="frame' + k + '" src=' + frame + ' width="'+ frameWidthAndHeight +'" height="'+ frameWidthAndHeight +'"></img><h2 style="position:relative;top:' + topCharName + 'px;left:' + leftCharName + 'px" id="txt'+ k +'">'+ charName +'</h2><h3 style="color:#a6a6a6;position:relative;top:' + topClass + 'px;left:' + leftClass + 'px" id="class'+ k +'">'+ wowclass +'</h3><h4 style="position:relative;top:' + topLvl + 'px;left:' + leftLvl + 'px" id="lvl'+ k +'">'+ lvl +'</h4></div>'
				} else {
					
					resultingInnerHtmlRank1 += '<div style="display: inline-block;"><img style="position:relative;top:' + topImg + 'px;left:' + leftImg + 'px" id="img' + k + '" src=' + thumbnail + ' width="'+ imgWidthAndHeight +'" height="'+ imgWidthAndHeight +'"></img><img style="position:relative;left:' + frameLeft + 'px" id="frame' + k + '" src=' + frame + ' width="'+ frameWidthAndHeight +'" height="'+ frameWidthAndHeight +'"></img><h2 style="position:relative;top:' + topCharName + 'px;left:' + leftCharName + 'px" id="txt'+ k +'">'+ charName +'</h2><h3 style="color:#a6a6a6;position:relative;top:' + topClass + 'px;left:' + leftClass + 'px" id="class'+ k +'">'+ wowclass +'</h3><h4 style="position:relative;top:' + topLvl + 'px;left:' + leftLvl + 'px" id="lvl'+ k +'">'+ lvl +'</h4></div>'
				}
				if (j == arrayRank1.length - 1) {
					resultingInnerHtmlRank1 += '<h2 style="position:relative;top:' + topCharName + 'px;left:' + leftCharName + 'px" id="txt'+ k +'">'+ currentRank +'<hr width="30%" align="left"></h2></div>'
				}
			}
			
		}	
	k++		
	}
	
	var resultingInnerHtmlRank2;
	for (var j = 0;j < arrayRank2.length; j++) {
		for (var i = 0; i < membersLength; i++) {
			if (arrayRank2[j] == json.members[i].character.name) {
				var thumbnail = json.members[i].character.thumbnail
				var thumbnail = "http://render-eu.worldofwarcraft.com/character/" + returnCharacterImgID(thumbnail) + "-avatar.jpg"
				var charName  = json.members[i].character.name
				var lvl = json.members[i].character.level
				var wowclassNumber = json.members[i].character.class
				var wowclass = returnWowClass(jsonClasses, wowclassNumber);
				var currentRank = returnRank(json.members[i].rank);
				if (j == 0) {
					resultingInnerHtmlRank2 = '<div id="divRank2"><div style="display: inline-block;"><img style="display: inline-block;position:relative;top:' + topImg + 'px;left:' + leftImg + 'px" id="img' + k + '" src=' + thumbnail + ' width="'+ imgWidthAndHeight +'" height="'+ imgWidthAndHeight +'"></img><img style="position:relative;left:' + frameLeft + 'px" id="frame' + k + '" src=' + frame + ' width="'+ frameWidthAndHeight +'" height="'+ frameWidthAndHeight +'"></img><h2 style="position:relative;top:' + topCharName + 'px;left:' + leftCharName + 'px" id="txt'+ k +'">'+ charName +'</h2><h3 style="color:#a6a6a6;position:relative;top:' + topClass + 'px;left:' + leftClass + 'px" id="class'+ k +'">'+ wowclass +'</h3><h4 style="position:relative;top:' + topLvl + 'px;left:' + leftLvl + 'px" id="lvl'+ k +'">'+ lvl +'</h4></div>'
				} else {
					resultingInnerHtmlRank2 += '<div style="display: inline-block;"><img style="display: inline-block;position:relative;top:' + topImg + 'px;left:' + leftImg + 'px" id="img' + k + '" src=' + thumbnail + ' width="'+ imgWidthAndHeight +'" height="'+ imgWidthAndHeight +'"></img><img style="position:relative;left:' + frameLeft + 'px" id="frame' + k + '" src=' + frame + ' width="'+ frameWidthAndHeight +'" height="'+ frameWidthAndHeight +'"></img><h2 style="position:relative;top:' + topCharName + 'px;left:' + leftCharName + 'px" id="txt'+ k +'">'+ charName +'</h2><h3 style="color:#a6a6a6;position:relative;top:' + topClass + 'px;left:' + leftClass + 'px" id="class'+ k +'">'+ wowclass +'</h3><h4 style="position:relative;top:' + topLvl + 'px;left:' + leftLvl + 'px" id="lvl'+ k +'">'+ lvl +'</h4></div>'
				}
				if (j == arrayRank2.length - 1) {
					resultingInnerHtmlRank2 += '<h2 style="position:relative;top:' + topCharName + 'px;left:' + leftCharName + 'px" id="txt'+ k +'">'+ currentRank +'<hr width="30%" align="left"></h2></div>'
				}
			}
		}
	k++		
	}
	
	var resultingInnerHtmlRank3;
	for (var j = 0;j < arrayRank3.length; j++) {
		for (var i = 0; i < membersLength; i++) {
			if (arrayRank3[j] == json.members[i].character.name) {
				var thumbnail = json.members[i].character.thumbnail
				var thumbnail = "http://render-eu.worldofwarcraft.com/character/" + returnCharacterImgID(thumbnail) + "-avatar.jpg"
				var charName  = json.members[i].character.name
				var lvl = json.members[i].character.level
				var wowclassNumber = json.members[i].character.class
				var wowclass = returnWowClass(jsonClasses, wowclassNumber);
				var currentRank = returnRank(json.members[i].rank);
				if (j == 0) {
					resultingInnerHtmlRank3 = '<div id="divRank3"><div style="display: inline-block;"><img style="position:relative;top:' + topImg + 'px;left:' + leftImg + 'px" id="img' + k + '" src=' + thumbnail + ' width="'+ imgWidthAndHeight +'" height="'+ imgWidthAndHeight +'"></img><img style="position:relative;left:' + frameLeft + 'px" id="frame' + k + '" src=' + frame + ' width="'+ frameWidthAndHeight +'" height="'+ frameWidthAndHeight +'"></img><h2 style="position:relative;top:' + topCharName + 'px;left:' + leftCharName + 'px" id="txt'+ k +'">'+ charName +'</h2><h3 style="color:#a6a6a6;position:relative;top:' + topClass + 'px;left:' + leftClass + 'px" id="class'+ k +'">'+ wowclass +'</h3><h4 style="position:relative;top:' + topLvl + 'px;left:' + leftLvl + 'px" id="lvl'+ k +'">'+ lvl +'</h4></div>'
				} else {
					resultingInnerHtmlRank3 += '<div style="display: inline-block;"><img style="position:relative;top:' + topImg + 'px;left:' + leftImg + 'px" id="img' + k + '" src=' + thumbnail + ' width="'+ imgWidthAndHeight +'" height="'+ imgWidthAndHeight +'"></img><img style="position:relative;left:' + frameLeft + 'px" id="frame' + k + '" src=' + frame + ' width="'+ frameWidthAndHeight +'" height="'+ frameWidthAndHeight +'"></img><h2 style="position:relative;top:' + topCharName + 'px;left:' + leftCharName + 'px" id="txt'+ k +'">'+ charName +'</h2><h3 style="color:#a6a6a6;position:relative;top:' + topClass + 'px;left:' + leftClass + 'px" id="class'+ k +'">'+ wowclass +'</h3><h4 style="position:relative;top:' + topLvl + 'px;left:' + leftLvl + 'px" id="lvl'+ k +'">'+ lvl +'</h4></div>'
				}
				if (j == arrayRank3.length - 1) {
					resultingInnerHtmlRank3 += '<h2 style="position:relative;top:' + topCharName + 'px;left:' + leftCharName + 'px" id="txt'+ k +'">'+ currentRank +'<hr width="30%" align="left"></h2></div>'
				}
			}
		}	
	k++
	}
	
	var resultingInnerHtmlRank4;
	for (var j = 0;j < arrayRank4.length; j++) {
		for (var i = 0; i < membersLength; i++) {
			if (arrayRank4[j] == json.members[i].character.name) {
				var thumbnail = json.members[i].character.thumbnail
				var thumbnail = "http://render-eu.worldofwarcraft.com/character/" + returnCharacterImgID(thumbnail) + "-avatar.jpg"
				var charName  = json.members[i].character.name
				var lvl = json.members[i].character.level
				var wowclassNumber = json.members[i].character.class
				var wowclass = returnWowClass(jsonClasses, wowclassNumber);
				var currentRank = returnRank(json.members[i].rank);
				if (j == 0) {
					resultingInnerHtmlRank4 = '<div id="divRank4"><div style="display: inline-block;"><img style="position:relative;top:' + topImg + 'px;left:' + leftImg + 'px" id="img' + k + '" src=' + thumbnail + ' width="'+ imgWidthAndHeight +'" height="'+ imgWidthAndHeight +'"></img><img style="position:relative;left:' + frameLeft + 'px" id="frame' + k + '" src=' + frame + ' width="'+ frameWidthAndHeight +'" height="'+ frameWidthAndHeight +'"></img><h2 style="position:relative;top:' + topCharName + 'px;left:' + leftCharName + 'px" id="txt'+ k +'">'+ charName +'</h2><h3 style="color:#a6a6a6;position:relative;top:' + topClass + 'px;left:' + leftClass + 'px" id="class'+ k +'">'+ wowclass +'</h3><h4 style="position:relative;top:' + topLvl + 'px;left:' + leftLvl + 'px" id="lvl'+ k +'">'+ lvl +'</h4></div>'
				} else {
					resultingInnerHtmlRank4 += '<div style="display: inline-block;"><img style="position:relative;top:' + topImg + 'px;left:' + leftImg + 'px" id="img' + k + '" src=' + thumbnail + ' width="'+ imgWidthAndHeight +'" height="'+ imgWidthAndHeight +'"></img><img style="position:relative;left:' + frameLeft + 'px" id="frame' + k + '" src=' + frame + ' width="'+ frameWidthAndHeight +'" height="'+ frameWidthAndHeight +'"></img><h2 style="position:relative;top:' + topCharName + 'px;left:' + leftCharName + 'px" id="txt'+ k +'">'+ charName +'</h2><h3 style="color:#a6a6a6;position:relative;top:' + topClass + 'px;left:' + leftClass + 'px" id="class'+ k +'">'+ wowclass +'</h3><h4 style="position:relative;top:' + topLvl + 'px;left:' + leftLvl + 'px" id="lvl'+ k +'">'+ lvl +'</h4></div>'
				}
				if (j == arrayRank4.length - 1) {
					resultingInnerHtmlRank4 += '<h2 style="position:relative;top:' + topCharName + 'px;left:' + leftCharName + 'px" id="txt'+ k +'">'+ currentRank +'<hr width="30%" align="left"></h2></div>'
				}
			}
		}		
	k++
	}
	
	var resultingInnerHtmlRank5;
	for (var j = 0;j < arrayRank5.length; j++) {
		for (var i = 0; i < membersLength; i++) {
			if (arrayRank5[j] == json.members[i].character.name) {
				var thumbnail = json.members[i].character.thumbnail
				var thumbnail = "http://render-eu.worldofwarcraft.com/character/" + returnCharacterImgID(thumbnail) + "-avatar.jpg"
				var charName  = json.members[i].character.name
				var lvl = json.members[i].character.level
				var wowclassNumber = json.members[i].character.class
				var wowclass = returnWowClass(jsonClasses, wowclassNumber);
				var currentRank = returnRank(json.members[i].rank);
				if (j == 0) {
					resultingInnerHtmlRank5 = '<div id="divRank5"><div style="display: inline-block;"><img style="position:relative;top:' + topImg + 'px;left:' + leftImg + 'px" id="img' + k + '" src=' + thumbnail + ' width="'+ imgWidthAndHeight +'" height="'+ imgWidthAndHeight +'"></img><img style="position:relative;left:' + frameLeft + 'px" id="frame' + k + '" src=' + frame + ' width="'+ frameWidthAndHeight +'" height="'+ frameWidthAndHeight +'"></img><h2 style="position:relative;top:' + topCharName + 'px;left:' + leftCharName + 'px" id="txt'+ k +'">'+ charName +'</h2><h3 style="color:#a6a6a6;position:relative;top:' + topClass + 'px;left:' + leftClass + 'px" id="class'+ k +'">'+ wowclass +'</h3><h4 style="position:relative;top:' + topLvl + 'px;left:' + leftLvl + 'px" id="lvl'+ k +'">'+ lvl +'</h4></div>'
				} else {
					resultingInnerHtmlRank5 += '<div style="display: inline-block;"><img style="position:relative;top:' + topImg + 'px;left:' + leftImg + 'px" id="img' + k + '" src=' + thumbnail + ' width="'+ imgWidthAndHeight +'" height="'+ imgWidthAndHeight +'"></img><img style="position:relative;left:' + frameLeft + 'px" id="frame' + k + '" src=' + frame + ' width="'+ frameWidthAndHeight +'" height="'+ frameWidthAndHeight +'"></img><h2 style="position:relative;top:' + topCharName + 'px;left:' + leftCharName + 'px" id="txt'+ k +'">'+ charName +'</h2><h3 style="color:#a6a6a6;position:relative;top:' + topClass + 'px;left:' + leftClass + 'px" id="class'+ k +'">'+ wowclass +'</h3><h4 style="position:relative;top:' + topLvl + 'px;left:' + leftLvl + 'px" id="lvl'+ k +'">'+ lvl +'</h4></div>'
				}
				if (j == arrayRank5.length - 1) {
					resultingInnerHtmlRank5 += '<h2 style="position:relative;top:' + topCharName + 'px;left:' + leftCharName + 'px" id="txt'+ k +'">'+ currentRank +'<hr width="30%" align="left"></h2></div>'
				}
			}
		}
	k++		
	}
	
	var resultingInnerHtmlRank6;
	for (var j = 0;j < arrayRank6.length; j++) {
		for (var i = 0; i < membersLength; i++) {
			if (arrayRank6[j] == json.members[i].character.name) {
				var thumbnail = json.members[i].character.thumbnail
				var thumbnail = "http://render-eu.worldofwarcraft.com/character/" + returnCharacterImgID(thumbnail) + "-avatar.jpg"
				var charName  = json.members[i].character.name
				var lvl = json.members[i].character.level
				var wowclassNumber = json.members[i].character.class
				var wowclass = returnWowClass(jsonClasses, wowclassNumber);
				var currentRank = returnRank(json.members[i].rank);
				if (j == 0) {
					resultingInnerHtmlRank6 = '<div id="divRank6"><div style="display: inline-block;"><img style="position:relative;top:' + topImg + 'px;left:' + leftImg + 'px" id="img' + k + '" src=' + thumbnail + ' width="'+ imgWidthAndHeight +'" height="'+ imgWidthAndHeight +'"></img><img style="position:relative;left:' + frameLeft + 'px" id="frame' + k + '" src=' + frame + ' width="'+ frameWidthAndHeight +'" height="'+ frameWidthAndHeight +'"></img><h2 style="position:relative;top:' + topCharName + 'px;left:' + leftCharName + 'px" id="txt'+ k +'">'+ charName +'</h2><h3 style="color:#a6a6a6;position:relative;top:' + topClass + 'px;left:' + leftClass + 'px" id="class'+ k +'">'+ wowclass +'</h3><h4 style="position:relative;top:' + topLvl + 'px;left:' + leftLvl + 'px" id="lvl'+ k +'">'+ lvl +'</h4></div>'
				} else {
					resultingInnerHtmlRank6 += '<div style="display: inline-block;"><img style="position:relative;top:' + topImg + 'px;left:' + leftImg + 'px" id="img' + k + '" src=' + thumbnail + ' width="'+ imgWidthAndHeight +'" height="'+ imgWidthAndHeight +'"></img><img style="position:relative;left:' + frameLeft + 'px" id="frame' + k + '" src=' + frame + ' width="'+ frameWidthAndHeight +'" height="'+ frameWidthAndHeight +'"></img><h2 style="position:relative;top:' + topCharName + 'px;left:' + leftCharName + 'px" id="txt'+ k +'">'+ charName +'</h2><h3 style="color:#a6a6a6;position:relative;top:' + topClass + 'px;left:' + leftClass + 'px" id="class'+ k +'">'+ wowclass +'</h3><h4 style="position:relative;top:' + topLvl + 'px;left:' + leftLvl + 'px" id="lvl'+ k +'">'+ lvl +'</h4></div>'
				}
				if (j == arrayRank6.length - 1) {
					resultingInnerHtmlRank6 += '<h2 style="position:relative;top:' + topCharName + 'px;left:' + leftCharName + 'px" id="txt'+ k +'">'+ currentRank +'<hr width="30%" align="left"></h2></div>'
				}
			}
		}
	k++		
	}
	
	var resultingInnerHtmlRank7;
	for (var j = 0;j < arrayRank7.length; j++) {
		for (var i = 0; i < membersLength; i++) {
			if (arrayRank7[j] == json.members[i].character.name) {
				var thumbnail = json.members[i].character.thumbnail
				var thumbnail = "http://render-eu.worldofwarcraft.com/character/" + returnCharacterImgID(thumbnail) + "-avatar.jpg"
				var charName  = json.members[i].character.name
				var lvl = json.members[i].character.level
				var wowclassNumber = json.members[i].character.class
				var wowclass = returnWowClass(jsonClasses, wowclassNumber);
				var currentRank = returnRank(json.members[i].rank);
				if (j == 0) {
					resultingInnerHtmlRank7 = '<div id="divRank7"><div style="display: inline-block;"><img style="position:relative;top:' + topImg + 'px;left:' + leftImg + 'px" id="img' + k + '" src=' + thumbnail + ' width="'+ imgWidthAndHeight +'" height="'+ imgWidthAndHeight +'"></img><img style="position:relative;left:' + frameLeft + 'px" id="frame' + k + '" src=' + frame + ' width="'+ frameWidthAndHeight +'" height="'+ frameWidthAndHeight +'"></img><h2 style="position:relative;top:' + topCharName + 'px;left:' + leftCharName + 'px" id="txt'+ k +'">'+ charName +'</h2><h3 style="color:#a6a6a6;position:relative;top:' + topClass + 'px;left:' + leftClass + 'px" id="class'+ k +'">'+ wowclass +'</h3><h4 style="position:relative;top:' + topLvl + 'px;left:' + leftLvl + 'px" id="lvl'+ k +'">'+ lvl +'</h4></div>'
				} else {
					resultingInnerHtmlRank7 += '<div style="display: inline-block;"><img style="position:relative;top:' + topImg + 'px;left:' + leftImg + 'px" id="img' + k + '" src=' + thumbnail + ' width="'+ imgWidthAndHeight +'" height="'+ imgWidthAndHeight +'"></img><img style="position:relative;left:' + frameLeft + 'px" id="frame' + k + '" src=' + frame + ' width="'+ frameWidthAndHeight +'" height="'+ frameWidthAndHeight +'"></img><h2 style="position:relative;top:' + topCharName + 'px;left:' + leftCharName + 'px" id="txt'+ k +'">'+ charName +'</h2><h3 style="color:#a6a6a6;position:relative;top:' + topClass + 'px;left:' + leftClass + 'px" id="class'+ k +'">'+ wowclass +'</h3><h4 style="position:relative;top:' + topLvl + 'px;left:' + leftLvl + 'px" id="lvl'+ k +'">'+ lvl +'</h4></div>'
				}
				if (j == arrayRank7.length - 1) {
					resultingInnerHtmlRank7 += '<h2 style="position:relative;top:' + topCharName + 'px;left:' + leftCharName + 'px" id="txt'+ k +'">'+ currentRank +'<hr width="30%" align="left"></h2></div>'
				}
			}
		}
	k++		
	}
	
	

	var finalInnerHtml = returnFinalInnerHtml()
	
	function returnFinalInnerHtml() {
		var innerHtml = resultingInnerHtmlRank0
		
		if(resultingInnerHtmlRank1 != undefined) {
			innerHtml += resultingInnerHtmlRank1
		}
		if(resultingInnerHtmlRank2 != undefined) {
			innerHtml += resultingInnerHtmlRank2
		}
		if(resultingInnerHtmlRank3 != undefined) {
			innerHtml += resultingInnerHtmlRank3
		}
		if(resultingInnerHtmlRank4 != undefined) {
			innerHtml += resultingInnerHtmlRank4
		}
		if(resultingInnerHtmlRank5 != undefined) {
			innerHtml += resultingInnerHtmlRank5
		}
		if(resultingInnerHtmlRank6 != undefined) {
			innerHtml += resultingInnerHtmlRank6
		}
		if(resultingInnerHtmlRank7 != undefined) {
			innerHtml += resultingInnerHtmlRank7
		}
		return innerHtml
	}

	$( "<div id=\"roster\">" + finalInnerHtml + "</div>" ).insertAfter( "#ideals" );

}
function returnWowClass(jsonClasses, wowclass) {
	
	var wc;
	for (var i = 0; i < jsonClasses.classes.length; i++) {
		
		if (jsonClasses.classes[i].id == wowclass) {
			
			wc = jsonClasses.classes[i].name
			i = jsonClasses.classes.length
		}
	}
	return wc;
}

function returnRank(rank) {
	var ranks = {
		gm : "Dear Leader, Kim Il'sung's long lost bro",
		eternal: "Eternal",
		oldblood: "Old Blood",
		darkblood: "Dark Blood",
		highblood: "High Blood",
		blood: "Blood",
		alt: "Alt",
		trial: "Trial",
	}
	var guildRank
	
	if (rank == 0) {
		guildRank = ranks.gm
	} else if (rank == 1) {
		guildRank = ranks.eternal
	} else if (rank == 2) {
		guildRank = ranks.oldblood
	} else if (rank == 3) {
		guildRank = ranks.darkblood
	} else if (rank == 4) {
		guildRank = ranks.highblood
	} else if (rank == 5) {
		guildRank = ranks.blood
	} else if (rank == 6) {
		guildRank = ranks.alt
	} else if (rank == 7) {
		guildRank = ranks.trial
	}
	
	return guildRank;
}

function repositionElement(elementId, styleLeft, styleTop) {
	var d = document.getElementById(elementId);
	d.style.position = "absolute";
	d.style.left = styleLeft;
	d.style.top = styleTop;
}

function returnCharacterImgID(thumbnail) {
	var characterImgId = thumbnail.substr(0, thumbnail.length - 11);
	return characterImgId;
}

function createHtmlElement(ele, id, innerHtmlCode) {
	var element = document.createElement(ele);
	element.setAttribute("id", id);
	element.innerHTML = innerHtmlCode;
	document.body.appendChild(element);
}

</script>

</body>
</html>